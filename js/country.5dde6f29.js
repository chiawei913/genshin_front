(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["country"],{"068d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAQAAAAB/ecQqAAAAAnRSTlMAAHaTzTgAAAAeSURBVHgBY6ASYP7//wAOiv/zAebzHwYFhc+d1AEAdWBcWePFmO8AAAAASUVORK5CYII="},"06a6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAlklEQVRYw+3UuxGAIBBFUQoxoAQ6syCLoADKMLAMAkODZ2TiKOy662jwbuxwkF8IjDmHARNmaBo1w0dU6JMTyHiWlHg0fw1xfC3+Yy1hAiSEEegTZqBHnIGr3ewAbcIFaBFOAP4DqF8yAu6A9KUj8B7AY8p7QIDH9BNghUfLPVBcgOkeSNjMw1cMrVVMKIaFqsiIgTHndvkpnTovBuqQAAAAAElFTkSuQmCC"},"0b61":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAwFJREFUWEfFlktoE1EUhv8z0WpBW3ciunAhUimZtFVoHhYiSFHxUW0nxQcuRNx0IRQpFZEqSEXEJ1IQUXBT25kUEW3VRUHU3FFQ2kxaqEsXRdy4cCEqTY5MbJImmWQmoWmzy9xz/v87595zZwjL/KNl9seSAwSGjX0s0WGm+IDe0TCxZADb1U+1q6jqJoBTma7z0JIAeEeiTRLTIzA8KXMG3uiKvKviAF5tIijB9RpA1YLz9kUocp35v6IAPm3qJCHxOOeg/xaKXJ16VjEAnxY7R+DruVOWSMR3fuhsjFQUoEDlIKKeSIc7C2rRO+BTo3uI6GVu5Qzc0hW5O/f5ogJ4h6JNkkuKALw6x+iJUORjVpdeHoBfi/UJxX251BuyeSS6ycU0DsbWrFzClIv+tr5r3/HNFsA/HL0EifoA7hKKZ8ApRL06XbVOio8yY3deDsf3i1DjaCGtdAcy5vOhzIoIecJOIPxa7AHApy1iLwpFvlJMIwmQZ/4/g5FAUHTKb4sJ+DWjB8A1i5hnQpHb7AqgAuYphO8sIah3yDNWQgFt8ghDGrFYi4PRIkKybg+gRm+D6GyRwBizK6iH6n8sjGkOf5ZdvGIMoI35udwvFM8FO3NznRRVdc1SnVnFoSIJ40KR0wfMp4pq0JoxAoIWc23M/fnV8vGE96cjADPIp05vIcTDoMzbyiI5PcsB1bjKhF4rA2Yc10PyoBPzZAdSgX5tshUgFaDagslEd5ihEjh9ly+MJaLnkQ73QafmWQDJaVCNMyDctxGYBWCx7+bY0AFdcb8oGyC5HVq0n0DnSxFJVlJG9XkdyGyHYe7h0VIgyqm+IEDg4fu1XFNjfsX4nECUW31BAHOhJRyT44xXAG+whSjh2rYY28LyvrDRRoynNgAzQpG32UIWCLD9HvCrRjcIN4oY9ApFtnoXOGKyBTBVAppxj4EuS0VpbrNob/rqyM0iyBHA/HiOEWhvjkbWFV0OhGOA5sHYemklD2WZcOKuHmqwOyNFuRwDlFOdk5xlB/gHXTr3fvu6SDMAAAAASUVORK5CYII="},14550:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAQAAAAB/ecQqAAAAAnRSTlMAAHaTzTgAAAAwSURBVHgBlcWBBQAgAADBaLBWj18rvgmeOrjxYerOoJpqBmSqOwKoVCvOovIso2cXj7aCjWTExPoAAAAASUVORK5CYII="},"1a0b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABdUlEQVRYw+2UPU/CUBiFHSQmxsGBBFhwcAMHjX+BkXRgZ+rmbGicmjQmrIxu/AQ32DBxcTApMcwkTMwCQQGFx+V6Kb3loyQlSu7Z7nnfc87b+9GDAw0NjT0HcRyaDBjQxCHuqdzi8q7y4ewL9PCiR0HW7oP5cPZT/Jj+WnGyED4NHUHcN/18WrEhPATzmwY4QjjGIkkSi7FgHPmFi3DCBbhCVpJMSTCuWJ/5AtxwAX0hS0kmJZi+WB/7Avp/LCDyLYr8kKO+ppE/tB38Knbws9NYfwIxMhiY2NiYGGSIBXRdcxHEr7bOYtNgqFzTIQ1ssgu9KV754Bmby82mNmmxDi3M+dSc0pb8DUer7HN02BQdclJ3xbfk2+SX2VvK2+1Sp0qZMlXqdJV3bUnto4efcRdkbzCTLRNqFEkrPWmK1Jh4rAxRyfvCDTXgTZRGVEisPKcEFUai+0lw576AF1X2xTb4FOpDHz9SA7bEMv0eBmhoaPxj/AC7XleQAw3GXAAAAABJRU5ErkJggg=="},"1faf":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAnUlEQVRYw+2Xuw2AMAxE2YM1+EyGRAOeJqNBhQQbHIGCjkCcHBKSX597Uiw7TlEYRmZQwmFGgNT4BQ+kCRzAFUxsQY4QE5hAIYBAiAIffyAkAfqrA4UjqLBGKFRXVEcolEVusL1U3AkQg7AFIcU/BJK/yG1ykTPFqxotJl4l6Mijwp8ZqMPuPDVSx7U9mSb4evmlr+/sDwj9C2UYKnaLViNIIVNySwAAAABJRU5ErkJggg=="},"433f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAiUlEQVRYw+2XsRGAIBAEvw+KpRpKg8gezgQdERwD/gaduc0g2A0g+DcTHwIBCQWzFCSEsX6DF9sggQRPUh/IroHcByrTL/nkUUABBRYF7ndvZwX8A/qmCijw7wAidfCa1g9HxzPgoB8OvweRNb63RP/1g6tvAgz99Q1YGxpXXwM8vRlZb0bWi4Xs9veDYafMRHsAAAAASUVORK5CYII="},"542b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABqklEQVRYw+2WIVcCQRhFNxgMGw0Eg4FAIBAMBoPnGAgGA5FoIBAIBoLRYNjADyD4AwgGgsFgIBAJGwwEgoFAMBAIhGtgdhx2d2a+xaRnX9s5b94bZu7uEASlSpX6t6JOxIxPJFow5ZEzeXjIkOLa8sSRLH7CoRoJKhjxG0W++CttndOmKjyvDiu9UVXZ+mPCQlCcshT9Br6U7VKPALnOS94ZU9fPd2rmzL2OnVbGmK0gBmCsn0+STXIVXCvTRFCwyDiTTbKfAh1lGQoKblkQ/2xlEGi8m/aCSFn6u+C0PAedvJ5du+VFWVoHFfSVbWC3xMrS8G9RliZaavbYbt4oS1igQNNEQ83+8EG63Bv1FWiaCD2g5kEqKDBo8oCaB2nBW8QNqgnpgQVuUE1IDUbWzs/zkpoY1Cyk3vhUhQfUNKSi+L0KJ6hpSMXxRoUTVH2XTTLx99ZDHWQqElArWfNFchdQoWnE95zcmBXn1Nhav1qE+jYz1fOiOciZNc+3PhSPt1S0843HvO79keqKX7BoL/7ZZe0xZcOWN/OTLai4YcIamFlWX6pUqT+tbxv7MPNgYDazAAAAAElFTkSuQmCC"},"5b99":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAaklEQVRYw+2XMRLAIAgE/Yfv52la+YdLk1aTICQpdnvYgmMGSgEIRlWmLi9dprpuP7TLWChkisDmghYiaHPBiXuCV/UIHgvuThVBnoCYsgcIiOnf9wDBOwJi+oEg/fhNP9+zH5D0FwrAxQGmhpectVyj3QAAAABJRU5ErkJggg=="},"761c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAThJREFUWEfNl+sNwjAMhFM2QeyUdWjXyU6ITRByRSKXPHy5tlH7B0Tw+SN2LmZylefl/SxLjxDWV/axdKaSsATdnHvK2se5hYVAdDIAHRThGAhUZwNQCmIgenQSQCtIlWm+h7C0+gHR0Tu6AiBBCMTbe+kbqGkjxNSZPHJkO9GTXJeVBRCNBMEkjyeMKYFugbjd0LbrwFSC+CFZCsqfsiYcCfHvKZARUT+zHJQ1r2nFZyYX7SIA4Q0WZ9XAqgAHQjTdswlwAIRp3acCILfo6SWwIIY0YQti2DGsQVzLiAbdB5uT0TsRWYaDrieIXdex1FUyxgkazf773gpBDyS6qXaUbqYASh3NQIhOdwlaZ7oHgpqILFdD7w5qIkKSI5MVNRH1JG9BlHRMK2aSlyBgK9bB8p79Z4zqfAGX8gVVB06enQAAAABJRU5ErkJggg=="},8287:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAb0lEQVRYhe3NQQ3AIBBE0T1gAhMowRMmUIIJHHGdGqCbNuw0aTL/Opk8M6XUNjwps4HKBhobGAHAdiu+ew4kLCpghskGOhkI+AgQ8CPArbOByQYWEhcAyjFwsw5PjQAaG6hsIJOBgAQIEPABoNSrLuO8Sxq+c0xfAAAAAElFTkSuQmCC"},"87f2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACO0lEQVRYw+2XLXTiQBDHRyAQCASiAoFAnKioQCB5DxGJqEBUICsQCMTJEycQiAhERQQScQJRcQJx4gQCEVERUYGoQJyIiEBE/E6QpJsPPrLAu/fa+yveDMxvd2dnZhH5r+uKKhYv2JiUrxG+hkuo9RUQzFFlXh7gxgD25QFeDODohCgz5YUZQwwqKe8iBrDyh2/zFgvxh2fGdLkN/Hf4kc+lmi94iQn7tWVOQ4Q7Fni4zKnlC9/klWPy+KKbvJGydR+TPhYrtimETUEPMFXKpxnV7CJjFz09QDlI7oRSYOkl7nyoTfiNvIgWbxjR2p8PZGKim4ditBvnYKp9OudVa/bq17Qi8FYzEwHAzzoWSiI0FJ+VrvNTARlrj3wPsdKzMKjnByQz8IsbxdtN7/C8nr+7ms1YzTvnAUbB71ZslJvTV+8bA8WXG3AfHU2VpbLQqVpiFOlgYeMfBFDCxGHNmiUTetyIcBu2ahEKsQ5r5+ygmedt8zX6XAmahqfMAOP8O/+uVjRm1ponrqYqQ2OlffzUA4yOjJgNj+EE0AOUEzM4S690tQEiGEfysNOShiZAhD65pNPeBlcGiDA46aB2Kuoh7hPPwv2yNVp0upwiDTFTNpe2HqKSaB0uDyIiDBMvJO+MkckjDj4+Dt/eBw11xsHLz2GkDqBPI6rMeEr/58prz05sh1lQBVumdKiJUKBOlx9H7B5PGHufklxY/xzwGzvzdyfb9wE8VnynISJCCxM7KKpT7G3FjnwY/QUC4kUAYRjMLQAAAABJRU5ErkJggg=="},"99dd":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sidebar",attrs:{"data-color":"azure","data-image":""}},[i("div",{staticClass:"sidebar-wrapper"},[i("div",{staticClass:"logo"},[i("router-link",{attrs:{to:"/admin"}},[i("img",{staticClass:"w-50",staticStyle:{height:"100px"},attrs:{src:a("a5e3")}})])],1),i("ul",{staticClass:"nav"},[i("li",[i("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-4",modifiers:{"collapse-4":!0}}],staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"#"}},[i("img",{attrs:{src:a("b062")}}),i("p",[t._v("國家管理")])])],1),i("b-collapse",{attrs:{id:"collapse-4"}},[i("div",{staticClass:"d-flex flex-column ml-3"},[i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("8287")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/Country"}},[i("span",[t._v("國家設定")])])],1),i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("14550")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/City"}},[i("span",[t._v("地區設定")])])],1)])]),i("li",[i("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-3",modifiers:{"collapse-3":!0}}],staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"#"}},[i("img",{attrs:{src:a("06a6")}}),i("p",[t._v("新聞管理")])])],1),i("b-collapse",{attrs:{id:"collapse-3"}},[i("div",{staticClass:"d-flex flex-column ml-3"},[i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("06a6")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/News"}},[i("span",[t._v("新聞文章管理")])])],1),i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("068d")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/Newscarousel"}},[i("span",[t._v("新聞輪播管理")])])],1)])]),i("li",[i("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"#"}},[i("img",{attrs:{src:a("87f2")}}),i("p",[t._v("角色管理")])])],1),i("b-collapse",{attrs:{id:"collapse-2"}},[i("div",{staticClass:"d-flex flex-column ml-3"},[i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("5b99")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/Character"}},[i("span",[t._v("角色管理")])])],1),i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("433f")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/Attribute"}},[i("span",[t._v("屬性管理")])])],1)])]),i("li",[i("router-link",{staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"/Feature"}},[i("img",{attrs:{src:a("542b")}}),i("p",[t._v("特色管理")])])],1),t.user.isAdmin?i("li",[i("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"#"}},[i("img",{attrs:{src:a("a58b")}}),i("p",[t._v("帳戶管理")])])],1):t._e(),t.user.isAdmin?i("b-collapse",{attrs:{id:"collapse-1"}},[i("div",{staticClass:"d-flex flex-column ml-3"},[i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("1a0b")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/BackAccount"}},[i("span",[t._v("後台帳戶管理")])])],1)])]):t._e(),i("li",{staticClass:"active-pro"},[i("a",{staticClass:"hit d-flex justify-content-center align-items-center",attrs:{href:"#"},on:{click:t.logout}},[i("img",{attrs:{src:a("1faf")}}),i("p",[t._v("登出")])])])],1)]),i("div",{staticClass:"sidebar-background backimage"})])},s=[],r=a("1da1"),A=(a("96cf"),{name:"App",methods:{logout:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.delete("/backusers/logout",{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 3:t.$store.commit("logout"),"/login"!==t.$route.path&&t.$router.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$swal({icon:"error",title:"錯誤",text:"發生錯誤"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,s,r,A;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.$store.state.jwt.token.length){e.next=2;break}return e.abrupt("return");case 2:if(a=Date.now()-t.$store.state.jwt.received,e.prev=3,!(a>5184e5)){e.next=10;break}return e.next=7,t.axios.post("/backusers/extend",{},{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 7:i=e.sent,s=i.data,t.$store.commit("extend",s.result);case 10:return e.next=12,t.axios.get("/backusers/",{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 12:r=e.sent,A=r.data,t.$store.commit("getinfo",A.result),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](3),t.$store.commit("logout");case 20:case"end":return e.stop()}}),e,null,[[3,17]])})))()}}),n=A,o=(a("c54a"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,null,null);e["a"]=c.exports},"9ed7":function(t,e,a){},a58b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABjUlEQVRYw+2VsWoCQRRFNYiNRAsbFQJpkkZ/IIS0aYKkzVr5DxZWAZtUKdZi/YK0fkBQTBlIryGQIoUgdgENaiE5KTIObpx1FmdXCOwt35u5d+a9eXdisQgRImhBEZsBU6YMsCkGS57EYck6ljgkg6PvoUIvIAkcvOAEU/tVcYZY5MhhMZSFMu8FtqTPylhWStjmAn1BZbmiloj2zQUmgqrgihZEdPIPBEIvUehNDvuZhj5oe7AKP2ZHXmbyodg1ZSlQDue3aEiBRnCkcZpUSJGhxUIKLGiRIUWFJnF/RCfcYNPllQ+WQEnEqwDMGG+0f8wMgKqeusH7n80vInfICB1GHHqTX/Ck3HQr8nVXdHMIf1FXk5foeJ7qUt6gs0avshHoKG/AFV8uyjmP3HHNKcccrK1L0N5qhG0SKvojPl3TWiXtWcbaViuvqTfdS/IuZ5pHsJPA29b2xMxLNBfptIZ+1yavctrz7/pMtcPzbDho6FE0sgofAg9GZudD4Jvzvdj1fj8c8y8zQgQtfgCV81iDHjvRJAAAAABJRU5ErkJggg=="},b062:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACRUlEQVRYCe3BEVxrYRzH4R+8MAgGg8FgEAQXBheCPBgGF4JgGAQXgkEwDIJgMAwuHAiCIBgMgiAIBsELg0EwGAwOfG/132qdnb3nnKI+n55HP74HarTocsktHs+AiHP2qejrKNNmQLqYG44o6bMoccyELGNaOBVHkxF5DdlWMbQpJuZAebHBBXmM6TDh3SlOeRCRz4NEmR7vTpWNE/Lq6hVNpiwcKIw98hpT0RxbjDEx21qPMk/kMeEfNS1hiylmiNM6dAjxCqDJQkvpqDIjxCuILmZMSWk4I8wriAoTzJHS8EiYVwZOMDdaRYMsN8pAjZgXMRUl0SbsgR1loo/ZVxJXGM8yr0I4wZwriTvMbyLeeRVCExMpiRHG4YhY8CqEBmagJOb0DEeE8SqEOsYriTm9whEREnPFL62ghhkpiTGmolc4IsIutYI65lZJ3GO2NIcjIsRrBbuYSyVxjfmjNzgi1vNawV9MV0l0MBdagiNiHa8VXGFaSmIH84TTEhwR6bwSKDPD1LSKEeZAH1AnnVcCR5iB0tDDDPUBddJ5fUCJMaatNGwSY1pagmPGOjEPnFHRMzqYCWWlo4uZsqUl9AkbUqFBjDnWOlSZYu7Z0BsaxIRdMMKMKGk9DlkYUNEbGvSZkUdTYfRYGFLXEupkaysLjj4LUw5xmqNOlgvlQZU+7+45oKRn1AmL2FA+OHose6JHi11CTlQMh0zJ64k9FUeVLjFZZnQo67PYpMeIdR45o6qvY4cO19wz5sWIO65o09CPb+E/qqsD1ySDNfQAAAAASUVORK5CYII="},c54a:function(t,e,a){"use strict";a("9ed7")},dc65:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAr1JREFUWEe9l7trFFEUh3/nWviAFNqIhYXY2QlRMfgEg5Kw0Yiuc88ElFhoYdBKtDIiaLRSLKx8wd4zi2Be4gsVNaLiI52KnaBYBvwHzJFZdpdxM7s7szvJlLPnnO+bc++ZvUNYgGtgYKBvdnb2dIgyxlwpFAqTFSzNN5+ZTwC4HuWo6mAQBLfDe/Mm4Pv+OufcN2YuAjgU86CnROTavAgw8zCAA0SUDyWstXeI6HCMxPnMBcrwc2XY14oEM98AcLxGYjpTgRp4hRWVuArgZEQiOwHf9y+p6pk6m7oqYa29TESliQCQzRJYa28S0WCTiYp24gKAvyIy3PYSMHM407mE41yVyOQ9wMyvAWxLCJ+zJ9p6DzDzOwCbU8JL6x62vq0OMPMnAJ3twlvqADN/ALAxC3hqgVbbTkQjzrmzcdKJp8D3/SlV3Zr2yVX1VhAER+vlJRKw1r4koh1p4QAeiEhfo7ymAsz8DMCuFuBTIrK9WV5DAWZ+AmB3syIxv78Xka4keXUFmPkhgJ4kRWpiPovIhqR5sQK+70+oasO1qwP4KCKbksJjx9BaO0pE/WmKlGMTtz1a+78OMPM9AAfTwonojXMu7X9CCVMV8DxvtTHmB4BFaQRU9VUQBDvT5MR2gJmPACidVFNcz0WkO0X8nNBqB5i5AGAlgC0AliQo+lRE9iSIaxhSEsjlcss6Ojp+AxgB8L3cieUNMh+JSG+78OoesNbmiCg82XSKyLS1tpuI7gJYVQsJ45xze7OAVwWYOfxy6RGRtZXCnuetN8bcB7Cmck9Vx4Ig2J8VPCrwE8BjETk2NDS0eGZmppeIelV1H4AV4QESwKiI5LOElwQ8z+syxrwFkFfVfiIKoUsB/AEwbowZi35MZi5grb1IRJXDwi8AE0Q07px7kTUsrh4x8xdVnVTViWKxGB63FvT6B86A9/FdAzIgAAAAAElFTkSuQmCC"},e138:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"back_body"},[i("div",{staticClass:"wrapper"},[i("Sidebar"),i("div",{staticClass:"main-panel"},[i("b-breadcrumb",{staticClass:"bread-default d-flex align-items-center",attrs:{items:t.items}}),i("div",{staticClass:"content"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"card d-flex justify-content-between align-items-center"},[i("b-col",{staticClass:"my-4 w-75 mx-5 d-flex justify-content-between align-items-center"},[i("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.$bvModal.show("modal-country")}}},[t._v("新增國家")])],1),i("b-table",{ref:"countryTable",staticClass:"table-hover bka_tb",attrs:{items:t.countries,fields:t.fields,striped:!0,"head-variant":"dark"},scopedSlots:t._u([{key:"cell(image)",fn:function(e){return[e.item?i("img",{staticStyle:{height:"50px"},attrs:{src:e.item.image}}):t._e()]}},{key:"cell(description)",fn:function(e){return[i("span",{staticClass:"d-inline-block text-truncate text-start",staticStyle:{"max-width":"400px"}},[t._v(t._s(e.item.description))])]}},{key:"cell(show)",fn:function(t){return[t.item.show?i("img",{staticStyle:{height:"23px"},attrs:{src:a("0b61")}}):i("img",{staticStyle:{height:"23px"},attrs:{src:a("761c")}})]}},{key:"cell(action)",fn:function(e){return[i("img",{attrs:{src:a("dc65"),width:"30%",role:"button"},on:{click:function(a){return t.editCountry(e.index)}}})]}}])}),i("b-modal",{attrs:{id:"modal-country",title:t.form._id.length>0?"編輯國家":"新增國家","ok-variant":"success","ok-title":"送出","cancel-variant":"danger","cancel-title":"取消","ok-disabled":t.submitDisable,"cancel-disabled":t.submitDisable},on:{ok:t.submitModal,hidden:t.resetForm}},[i("b-form-group",{attrs:{label:"國家名","label-for":"input-name",state:t.state.name,description:"國家名長度限制為 1 個字以上","invalid-feedback":"國家名格式不正確"}},[i("b-form-input",{attrs:{id:"input-name",type:"text",required:"required",placeholder:"請輸入國家名",state:t.state.name},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("b-form-group",{attrs:{label:"國家介紹","label-for":"input-description"}},[i("b-form-textarea",{attrs:{id:"input-description",type:"text",placeholder:"請輸入國家介紹"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),i("img-inputer",{attrs:{theme:"dark",size:"large",placeholder:"點擊或拖曳選擇圖片","bottom-text":"點擊或拖曳以修改"},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}}),i("b-form-group",{attrs:{label:"顯示","label-for":"input-show"}},[i("b-form-radio",{attrs:{value:!0},model:{value:t.form.show,callback:function(e){t.$set(t.form,"show",e)},expression:"form.show"}},[t._v("顯示")]),i("b-form-radio",{attrs:{value:!1},model:{value:t.form.show,callback:function(e){t.$set(t.form,"show",e)},expression:"form.show"}},[t._v("未顯示")])],1)],1)],1)])])])])],1)],1)])},s=[],r=a("1da1"),A=(a("96cf"),a("b0c0"),a("a4d3"),a("e01a"),a("99af"),a("d81d"),a("99dd")),n={name:"country",data:function(){return{items:[{text:"首頁",href:"/#/admin"},{text:"國家管理",href:"#"},{text:"國家設定",active:!0}],countries:[],fields:[{key:"image",label:"圖片"},{key:"name",label:"國家"},{key:"description",label:"國家介紹"},{key:"show",label:"顯示/未顯示"},{key:"action",label:"操作"}],submitDisable:!1,form:{name:"",description:"",image:null,show:!1,_id:""}}},computed:{state:function(){return{name:0!==this.form.name.length||null,description:0!==this.form.description.length||null}}},methods:{editCountry:function(t){this.form={name:this.countries[t].name,description:this.countries[t].description,image:this.countries[t].image,show:this.countries[t].show,_id:this.countries[t]._id,index:t},this.$bvModal.show("modal-country")},resetForm:function(t){this.submitDisable?t.preventDefault():this.form={name:"",description:"",image:null,show:!1,_id:""}},submitModal:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i in t.submitDisable=!0,e.prev=1,a=new FormData,t.form)a.append(i,t.form[i]);if(0!==t.form._id.length){e.next=12;break}return console.log(t.form),e.next=8,t.axios.post("/countries",a,{headers:{authorization:"Bearer "+t.$store.state.jwt.token}}).then((function(e){t.countries[t.countries.length]={name:t.form.name,description:t.form.description,image:"".concat("https://genshinweb.herokuapp.com","/files/").concat(e.data.result.image),show:t.form.show,_id:e.data.result._id},t.form._id=e.data.result._id}));case 8:t.$swal({icon:"success",title:"成功",text:"新增成功"}),t.$refs.countryTable.refresh(),e.next=20;break;case 12:return e.next=14,t.axios.patch("/countries/"+t.form._id,a,{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 14:s=e.sent,r=s.data,t.countries[t.form.index]={name:t.form.name,description:t.form.description,_id:t.form._id,image:"".concat("https://genshinweb.herokuapp.com","/files/").concat(r.result.image),show:t.form.show},console.log(t.countries[t.form.index]),t.$swal({icon:"success",title:"成功",text:"修改成功"}),t.$refs.countryTable.refresh();case 20:t.$bvModal.hide("modal-country"),e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](1),t.$swal({icon:"error",title:"錯誤",text:e.t0.response.data.message});case 26:t.submitDisable=!1;case 27:case"end":return e.stop()}}),e,null,[[1,23]])})))()}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.get("/countries/all",{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 3:a=e.sent,i=a.data,t.countries=i.result.map((function(t){return t.image&&(t.image="".concat("https://genshinweb.herokuapp.com","/files/").concat(t.image)),t})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$swal({icon:"error",title:"錯誤",text:"取得國家失敗"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},components:{Sidebar:A["a"]}},o=n,c=a("2877"),l=Object(c["a"])(o,i,s,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=country.5dde6f29.js.map