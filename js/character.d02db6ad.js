(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["character"],{"068d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAQAAAAB/ecQqAAAAAnRSTlMAAHaTzTgAAAAeSURBVHgBY6ASYP7//wAOiv/zAebzHwYFhc+d1AEAdWBcWePFmO8AAAAASUVORK5CYII="},"06a6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAlklEQVRYw+3UuxGAIBBFUQoxoAQ6syCLoADKMLAMAkODZ2TiKOy662jwbuxwkF8IjDmHARNmaBo1w0dU6JMTyHiWlHg0fw1xfC3+Yy1hAiSEEegTZqBHnIGr3ewAbcIFaBFOAP4DqF8yAu6A9KUj8B7AY8p7QIDH9BNghUfLPVBcgOkeSNjMw1cMrVVMKIaFqsiIgTHndvkpnTovBuqQAAAAAElFTkSuQmCC"},"0b61":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAwFJREFUWEfFlktoE1EUhv8z0WpBW3ciunAhUimZtFVoHhYiSFHxUW0nxQcuRNx0IRQpFZEqSEXEJ1IQUXBT25kUEW3VRUHU3FFQ2kxaqEsXRdy4cCEqTY5MbJImmWQmoWmzy9xz/v87595zZwjL/KNl9seSAwSGjX0s0WGm+IDe0TCxZADb1U+1q6jqJoBTma7z0JIAeEeiTRLTIzA8KXMG3uiKvKviAF5tIijB9RpA1YLz9kUocp35v6IAPm3qJCHxOOeg/xaKXJ16VjEAnxY7R+DruVOWSMR3fuhsjFQUoEDlIKKeSIc7C2rRO+BTo3uI6GVu5Qzc0hW5O/f5ogJ4h6JNkkuKALw6x+iJUORjVpdeHoBfi/UJxX251BuyeSS6ycU0DsbWrFzClIv+tr5r3/HNFsA/HL0EifoA7hKKZ8ApRL06XbVOio8yY3deDsf3i1DjaCGtdAcy5vOhzIoIecJOIPxa7AHApy1iLwpFvlJMIwmQZ/4/g5FAUHTKb4sJ+DWjB8A1i5hnQpHb7AqgAuYphO8sIah3yDNWQgFt8ghDGrFYi4PRIkKybg+gRm+D6GyRwBizK6iH6n8sjGkOf5ZdvGIMoI35udwvFM8FO3NznRRVdc1SnVnFoSIJ40KR0wfMp4pq0JoxAoIWc23M/fnV8vGE96cjADPIp05vIcTDoMzbyiI5PcsB1bjKhF4rA2Yc10PyoBPzZAdSgX5tshUgFaDagslEd5ihEjh9ly+MJaLnkQ73QafmWQDJaVCNMyDctxGYBWCx7+bY0AFdcb8oGyC5HVq0n0DnSxFJVlJG9XkdyGyHYe7h0VIgyqm+IEDg4fu1XFNjfsX4nECUW31BAHOhJRyT44xXAG+whSjh2rYY28LyvrDRRoynNgAzQpG32UIWCLD9HvCrRjcIN4oY9ApFtnoXOGKyBTBVAppxj4EuS0VpbrNob/rqyM0iyBHA/HiOEWhvjkbWFV0OhGOA5sHYemklD2WZcOKuHmqwOyNFuRwDlFOdk5xlB/gHXTr3fvu6SDMAAAAASUVORK5CYII="},14550:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAQAAAAB/ecQqAAAAAnRSTlMAAHaTzTgAAAAwSURBVHgBlcWBBQAgAADBaLBWj18rvgmeOrjxYerOoJpqBmSqOwKoVCvOovIso2cXj7aCjWTExPoAAAAASUVORK5CYII="},"1a0b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABdUlEQVRYw+2UPU/CUBiFHSQmxsGBBFhwcAMHjX+BkXRgZ+rmbGicmjQmrIxu/AQ32DBxcTApMcwkTMwCQQGFx+V6Kb3loyQlSu7Z7nnfc87b+9GDAw0NjT0HcRyaDBjQxCHuqdzi8q7y4ewL9PCiR0HW7oP5cPZT/Jj+WnGyED4NHUHcN/18WrEhPATzmwY4QjjGIkkSi7FgHPmFi3DCBbhCVpJMSTCuWJ/5AtxwAX0hS0kmJZi+WB/7Avp/LCDyLYr8kKO+ppE/tB38Knbws9NYfwIxMhiY2NiYGGSIBXRdcxHEr7bOYtNgqFzTIQ1ssgu9KV754Bmby82mNmmxDi3M+dSc0pb8DUer7HN02BQdclJ3xbfk2+SX2VvK2+1Sp0qZMlXqdJV3bUnto4efcRdkbzCTLRNqFEkrPWmK1Jh4rAxRyfvCDTXgTZRGVEisPKcEFUai+0lw576AF1X2xTb4FOpDHz9SA7bEMv0eBmhoaPxj/AC7XleQAw3GXAAAAABJRU5ErkJggg=="},"1faf":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAnUlEQVRYw+2Xuw2AMAxE2YM1+EyGRAOeJqNBhQQbHIGCjkCcHBKSX597Uiw7TlEYRmZQwmFGgNT4BQ+kCRzAFUxsQY4QE5hAIYBAiAIffyAkAfqrA4UjqLBGKFRXVEcolEVusL1U3AkQg7AFIcU/BJK/yG1ykTPFqxotJl4l6Mijwp8ZqMPuPDVSx7U9mSb4evmlr+/sDwj9C2UYKnaLViNIIVNySwAAAABJRU5ErkJggg=="},"433f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAiUlEQVRYw+2XsRGAIBAEvw+KpRpKg8gezgQdERwD/gaduc0g2A0g+DcTHwIBCQWzFCSEsX6DF9sggQRPUh/IroHcByrTL/nkUUABBRYF7ndvZwX8A/qmCijw7wAidfCa1g9HxzPgoB8OvweRNb63RP/1g6tvAgz99Q1YGxpXXwM8vRlZb0bWi4Xs9veDYafMRHsAAAAASUVORK5CYII="},"542b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABqklEQVRYw+2WIVcCQRhFNxgMGw0Eg4FAIBAMBoPnGAgGA5FoIBAIBoLRYNjADyD4AwgGgsFgIBAJGwwEgoFAMBAIhGtgdhx2d2a+xaRnX9s5b94bZu7uEASlSpX6t6JOxIxPJFow5ZEzeXjIkOLa8sSRLH7CoRoJKhjxG0W++CttndOmKjyvDiu9UVXZ+mPCQlCcshT9Br6U7VKPALnOS94ZU9fPd2rmzL2OnVbGmK0gBmCsn0+STXIVXCvTRFCwyDiTTbKfAh1lGQoKblkQ/2xlEGi8m/aCSFn6u+C0PAedvJ5du+VFWVoHFfSVbWC3xMrS8G9RliZaavbYbt4oS1igQNNEQ83+8EG63Bv1FWiaCD2g5kEqKDBo8oCaB2nBW8QNqgnpgQVuUE1IDUbWzs/zkpoY1Cyk3vhUhQfUNKSi+L0KJ6hpSMXxRoUTVH2XTTLx99ZDHWQqElArWfNFchdQoWnE95zcmBXn1Nhav1qE+jYz1fOiOciZNc+3PhSPt1S0843HvO79keqKX7BoL/7ZZe0xZcOWN/OTLai4YcIamFlWX6pUqT+tbxv7MPNgYDazAAAAAElFTkSuQmCC"},"5b99":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAaklEQVRYw+2XMRLAIAgE/Yfv52la+YdLk1aTICQpdnvYgmMGSgEIRlWmLi9dprpuP7TLWChkisDmghYiaHPBiXuCV/UIHgvuThVBnoCYsgcIiOnf9wDBOwJi+oEg/fhNP9+zH5D0FwrAxQGmhpectVyj3QAAAABJRU5ErkJggg=="},"761c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAThJREFUWEfNl+sNwjAMhFM2QeyUdWjXyU6ITRByRSKXPHy5tlH7B0Tw+SN2LmZylefl/SxLjxDWV/axdKaSsATdnHvK2se5hYVAdDIAHRThGAhUZwNQCmIgenQSQCtIlWm+h7C0+gHR0Tu6AiBBCMTbe+kbqGkjxNSZPHJkO9GTXJeVBRCNBMEkjyeMKYFugbjd0LbrwFSC+CFZCsqfsiYcCfHvKZARUT+zHJQ1r2nFZyYX7SIA4Q0WZ9XAqgAHQjTdswlwAIRp3acCILfo6SWwIIY0YQti2DGsQVzLiAbdB5uT0TsRWYaDrieIXdex1FUyxgkazf773gpBDyS6qXaUbqYASh3NQIhOdwlaZ7oHgpqILFdD7w5qIkKSI5MVNRH1JG9BlHRMK2aSlyBgK9bB8p79Z4zqfAGX8gVVB06enQAAAABJRU5ErkJggg=="},8287:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAb0lEQVRYhe3NQQ3AIBBE0T1gAhMowRMmUIIJHHGdGqCbNuw0aTL/Opk8M6XUNjwps4HKBhobGAHAdiu+ew4kLCpghskGOhkI+AgQ8CPArbOByQYWEhcAyjFwsw5PjQAaG6hsIJOBgAQIEPABoNSrLuO8Sxq+c0xfAAAAAElFTkSuQmCC"},"87f2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACO0lEQVRYw+2XLXTiQBDHRyAQCASiAoFAnKioQCB5DxGJqEBUICsQCMTJEycQiAhERQQScQJRcQJx4gQCEVERUYGoQJyIiEBE/E6QpJsPPrLAu/fa+yveDMxvd2dnZhH5r+uKKhYv2JiUrxG+hkuo9RUQzFFlXh7gxgD25QFeDODohCgz5YUZQwwqKe8iBrDyh2/zFgvxh2fGdLkN/Hf4kc+lmi94iQn7tWVOQ4Q7Fni4zKnlC9/klWPy+KKbvJGydR+TPhYrtimETUEPMFXKpxnV7CJjFz09QDlI7oRSYOkl7nyoTfiNvIgWbxjR2p8PZGKim4ditBvnYKp9OudVa/bq17Qi8FYzEwHAzzoWSiI0FJ+VrvNTARlrj3wPsdKzMKjnByQz8IsbxdtN7/C8nr+7ms1YzTvnAUbB71ZslJvTV+8bA8WXG3AfHU2VpbLQqVpiFOlgYeMfBFDCxGHNmiUTetyIcBu2ahEKsQ5r5+ygmedt8zX6XAmahqfMAOP8O/+uVjRm1ponrqYqQ2OlffzUA4yOjJgNj+EE0AOUEzM4S690tQEiGEfysNOShiZAhD65pNPeBlcGiDA46aB2Kuoh7hPPwv2yNVp0upwiDTFTNpe2HqKSaB0uDyIiDBMvJO+MkckjDj4+Dt/eBw11xsHLz2GkDqBPI6rMeEr/58prz05sh1lQBVumdKiJUKBOlx9H7B5PGHufklxY/xzwGzvzdyfb9wE8VnynISJCCxM7KKpT7G3FjnwY/QUC4kUAYRjMLQAAAABJRU5ErkJggg=="},"99dd":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sidebar",attrs:{"data-color":"azure","data-image":""}},[i("div",{staticClass:"sidebar-wrapper"},[i("div",{staticClass:"logo"},[i("router-link",{attrs:{to:"/admin"}},[i("img",{staticClass:"w-50",staticStyle:{height:"100px"},attrs:{src:a("a5e3")}})])],1),i("ul",{staticClass:"nav"},[i("li",[i("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-4",modifiers:{"collapse-4":!0}}],staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"#"}},[i("img",{attrs:{src:a("b062")}}),i("p",[e._v("國家管理")])])],1),i("b-collapse",{attrs:{id:"collapse-4"}},[i("div",{staticClass:"d-flex flex-column ml-3"},[i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("8287")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/Country"}},[i("span",[e._v("國家設定")])])],1),i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("14550")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/City"}},[i("span",[e._v("地區設定")])])],1)])]),i("li",[i("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-3",modifiers:{"collapse-3":!0}}],staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"#"}},[i("img",{attrs:{src:a("06a6")}}),i("p",[e._v("新聞管理")])])],1),i("b-collapse",{attrs:{id:"collapse-3"}},[i("div",{staticClass:"d-flex flex-column ml-3"},[i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("06a6")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/News"}},[i("span",[e._v("新聞文章管理")])])],1),i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("068d")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/Newscarousel"}},[i("span",[e._v("新聞輪播管理")])])],1)])]),i("li",[i("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"#"}},[i("img",{attrs:{src:a("87f2")}}),i("p",[e._v("角色管理")])])],1),i("b-collapse",{attrs:{id:"collapse-2"}},[i("div",{staticClass:"d-flex flex-column ml-3"},[i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("5b99")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/Character"}},[i("span",[e._v("角色管理")])])],1),i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("433f")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/Attribute"}},[i("span",[e._v("屬性管理")])])],1)])]),i("li",[i("router-link",{staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"/Feature"}},[i("img",{attrs:{src:a("542b")}}),i("p",[e._v("特色管理")])])],1),e.user.isAdmin?i("li",[i("router-link",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"hit d-flex justify-content-center align-items-center",attrs:{to:"#"}},[i("img",{attrs:{src:a("a58b")}}),i("p",[e._v("帳戶管理")])])],1):e._e(),e.user.isAdmin?i("b-collapse",{attrs:{id:"collapse-1"}},[i("div",{staticClass:"d-flex flex-column ml-3"},[i("div",{staticClass:"afont d-flex align-items-center"},[i("img",{attrs:{src:a("1a0b")}}),i("router-link",{staticClass:"pl-2 text-white text-decoration-none",attrs:{to:"/BackAccount"}},[i("span",[e._v("後台帳戶管理")])])],1)])]):e._e(),i("li",{staticClass:"active-pro"},[i("a",{staticClass:"hit d-flex justify-content-center align-items-center",attrs:{href:"#"},on:{click:e.logout}},[i("img",{attrs:{src:a("1faf")}}),i("p",[e._v("登出")])])])],1)]),i("div",{staticClass:"sidebar-background backimage"})])},r=[],s=a("1da1"),o=(a("96cf"),{name:"App",methods:{logout:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.delete("/backusers/logout",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:e.$store.commit("logout"),"/login"!==e.$route.path&&e.$router.push("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$swal({icon:"error",title:"錯誤",text:"發生錯誤"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.$store.state.jwt.token.length){t.next=2;break}return t.abrupt("return");case 2:if(a=Date.now()-e.$store.state.jwt.received,t.prev=3,!(a>5184e5)){t.next=10;break}return t.next=7,e.axios.post("/backusers/extend",{},{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 7:i=t.sent,r=i.data,e.$store.commit("extend",r.result);case 10:return t.next=12,e.axios.get("/backusers/",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 12:s=t.sent,o=s.data,e.$store.commit("getinfo",o.result),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](3),e.$store.commit("logout");case 20:case"end":return t.stop()}}),t,null,[[3,17]])})))()}}),n=o,l=(a("c54a"),a("2877")),A=Object(l["a"])(n,i,r,!1,null,null,null);t["a"]=A.exports},"9ed7":function(e,t,a){},a58b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABjUlEQVRYw+2VsWoCQRRFNYiNRAsbFQJpkkZ/IIS0aYKkzVr5DxZWAZtUKdZi/YK0fkBQTBlIryGQIoUgdgENaiE5KTIObpx1FmdXCOwt35u5d+a9eXdisQgRImhBEZsBU6YMsCkGS57EYck6ljgkg6PvoUIvIAkcvOAEU/tVcYZY5MhhMZSFMu8FtqTPylhWStjmAn1BZbmiloj2zQUmgqrgihZEdPIPBEIvUehNDvuZhj5oe7AKP2ZHXmbyodg1ZSlQDue3aEiBRnCkcZpUSJGhxUIKLGiRIUWFJnF/RCfcYNPllQ+WQEnEqwDMGG+0f8wMgKqeusH7n80vInfICB1GHHqTX/Ck3HQr8nVXdHMIf1FXk5foeJ7qUt6gs0avshHoKG/AFV8uyjmP3HHNKcccrK1L0N5qhG0SKvojPl3TWiXtWcbaViuvqTfdS/IuZ5pHsJPA29b2xMxLNBfptIZ+1yavctrz7/pMtcPzbDho6FE0sgofAg9GZudD4Jvzvdj1fj8c8y8zQgQtfgCV81iDHjvRJAAAAABJRU5ErkJggg=="},b062:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACRUlEQVRYCe3BEVxrYRzH4R+8MAgGg8FgEAQXBheCPBgGF4JgGAQXgkEwDIJgMAwuHAiCIBgMgiAIBsELg0EwGAwOfG/132qdnb3nnKI+n55HP74HarTocsktHs+AiHP2qejrKNNmQLqYG44o6bMoccyELGNaOBVHkxF5DdlWMbQpJuZAebHBBXmM6TDh3SlOeRCRz4NEmR7vTpWNE/Lq6hVNpiwcKIw98hpT0RxbjDEx21qPMk/kMeEfNS1hiylmiNM6dAjxCqDJQkvpqDIjxCuILmZMSWk4I8wriAoTzJHS8EiYVwZOMDdaRYMsN8pAjZgXMRUl0SbsgR1loo/ZVxJXGM8yr0I4wZwriTvMbyLeeRVCExMpiRHG4YhY8CqEBmagJOb0DEeE8SqEOsYriTm9whEREnPFL62ghhkpiTGmolc4IsIutYI65lZJ3GO2NIcjIsRrBbuYSyVxjfmjNzgi1vNawV9MV0l0MBdagiNiHa8VXGFaSmIH84TTEhwR6bwSKDPD1LSKEeZAH1AnnVcCR5iB0tDDDPUBddJ5fUCJMaatNGwSY1pagmPGOjEPnFHRMzqYCWWlo4uZsqUl9AkbUqFBjDnWOlSZYu7Z0BsaxIRdMMKMKGk9DlkYUNEbGvSZkUdTYfRYGFLXEupkaysLjj4LUw5xmqNOlgvlQZU+7+45oKRn1AmL2FA+OHose6JHi11CTlQMh0zJ64k9FUeVLjFZZnQo67PYpMeIdR45o6qvY4cO19wz5sWIO65o09CPb+E/qqsD1ySDNfQAAAAASUVORK5CYII="},c54a:function(e,t,a){"use strict";a("9ed7")},dc65:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAr1JREFUWEe9l7trFFEUh3/nWviAFNqIhYXY2QlRMfgEg5Kw0Yiuc88ElFhoYdBKtDIiaLRSLKx8wd4zi2Be4gsVNaLiI52KnaBYBvwHzJFZdpdxM7s7szvJlLPnnO+bc++ZvUNYgGtgYKBvdnb2dIgyxlwpFAqTFSzNN5+ZTwC4HuWo6mAQBLfDe/Mm4Pv+OufcN2YuAjgU86CnROTavAgw8zCAA0SUDyWstXeI6HCMxPnMBcrwc2XY14oEM98AcLxGYjpTgRp4hRWVuArgZEQiOwHf9y+p6pk6m7oqYa29TESliQCQzRJYa28S0WCTiYp24gKAvyIy3PYSMHM407mE41yVyOQ9wMyvAWxLCJ+zJ9p6DzDzOwCbU8JL6x62vq0OMPMnAJ3twlvqADN/ALAxC3hqgVbbTkQjzrmzcdKJp8D3/SlV3Zr2yVX1VhAER+vlJRKw1r4koh1p4QAeiEhfo7ymAsz8DMCuFuBTIrK9WV5DAWZ+AmB3syIxv78Xka4keXUFmPkhgJ4kRWpiPovIhqR5sQK+70+oasO1qwP4KCKbksJjx9BaO0pE/WmKlGMTtz1a+78OMPM9AAfTwonojXMu7X9CCVMV8DxvtTHmB4BFaQRU9VUQBDvT5MR2gJmPACidVFNcz0WkO0X8nNBqB5i5AGAlgC0AliQo+lRE9iSIaxhSEsjlcss6Ojp+AxgB8L3cieUNMh+JSG+78OoesNbmiCg82XSKyLS1tpuI7gJYVQsJ45xze7OAVwWYOfxy6RGRtZXCnuetN8bcB7Cmck9Vx4Ig2J8VPCrwE8BjETk2NDS0eGZmppeIelV1H4AV4QESwKiI5LOElwQ8z+syxrwFkFfVfiIKoUsB/AEwbowZi35MZi5grb1IRJXDwi8AE0Q07px7kTUsrh4x8xdVnVTViWKxGB63FvT6B86A9/FdAzIgAAAAAElFTkSuQmCC"},ecbd:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"back_body"},[i("div",{staticClass:"wrapper"},[i("Sidebar"),i("div",{staticClass:"main-panel"},[i("b-breadcrumb",{staticClass:"bread-default d-flex align-items-center",attrs:{items:e.items}}),i("div",{staticClass:"content"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"card d-flex justify-content-between align-items-center"},[i("b-col",{staticClass:"my-4 w-75 mx-5 d-flex justify-content-between align-items-center"},[i("div",{staticClass:"d-flex w-50"},[i("span",{staticClass:"w-50 my-2"},[e._v("國家查詢")]),i("b-form-select",{staticClass:"mb-2",attrs:{options:e.findcountries},scopedSlots:e._u([{key:"first",fn:function(){return[i("b-form-select-option",{attrs:{value:null}},[e._v("全部")])]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),i("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return e.$bvModal.show("modal-character")}}},[e._v("新增角色")])],1),i("b-table",{ref:"characterTable",staticClass:"table-hover bka_tb",attrs:{id:"my-table",items:e.characters,fields:e.fields,striped:!0,"head-variant":"dark","per-page":e.perPage,"current-page":e.currentPage,"first-number":"","last-number":"",filter:e.filter,"filter-included-fields":e.filterOn},on:{filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(country)",fn:function(t){return[i("span",[e._v(" "+e._s(t.item.country.name)+" ")])]}},{key:"cell(attribute)",fn:function(t){return[i("span",[e._v(" "+e._s(t.item.attribute.name)+" ")])]}},{key:"cell(description)",fn:function(t){return[i("span",{staticClass:"d-inline-block text-truncate",staticStyle:{"max-width":"300px"}},[e._v(e._s(t.item.description))])]}},{key:"cell(small_image)",fn:function(t){return[t.item?i("img",{staticStyle:{height:"50px"},attrs:{src:t.item.small_image}}):e._e()]}},{key:"cell(show)",fn:function(e){return[e.item.show?i("img",{staticStyle:{height:"23px"},attrs:{src:a("0b61")}}):i("img",{staticStyle:{height:"23px"},attrs:{src:a("761c")}})]}},{key:"cell(action)",fn:function(t){return[i("img",{attrs:{src:a("dc65"),role:"button",width:"45%"},on:{click:function(a){return e.editCharacter(t.item,t.index,a.target)}}})]}}])}),i("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),i("b-modal",{attrs:{id:"modal-character",title:e.form._id.length>0?"編輯角色":"新增角色","ok-variant":"success","ok-title":"送出","cancel-variant":"danger","cancel-title":"取消","ok-disabled":e.submitDisable,"cancel-disabled":e.submitDisable},on:{ok:e.submitModal,hidden:e.resetForm}},[i("b-form-group",{attrs:{label:"角色名","label-for":"input-name",state:e.state.name,description:"角色名長度限制為 1 個字以上","invalid-feedback":"角色名格式不正確"}},[i("b-form-input",{attrs:{id:"input-name",type:"text",required:"required",placeholder:"請輸入角色名",state:e.state.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("b-form-group",{attrs:{label:"角色介紹","label-for":"input-description"}},[i("b-form-textarea",{attrs:{id:"input-description",type:"text",placeholder:"請輸入角色介紹"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),i("b-form-group",{attrs:{label:"隸屬國家"}},[i("b-form-select",{staticClass:"mb-3",attrs:{options:e.countries},scopedSlots:e._u([{key:"first",fn:function(){return[i("option",{attrs:{value:"",disabled:""}},[e._v("-- 請選擇 --")])]},proxy:!0}]),model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}})],1),i("b-form-group",{attrs:{label:"角色屬性"}},[i("b-form-select",{staticClass:"mb-3",attrs:{options:e.attributes},scopedSlots:e._u([{key:"first",fn:function(){return[i("option",{attrs:{value:"",disabled:""}},[e._v("-- 請選擇 --")])]},proxy:!0}]),model:{value:e.form.attribute,callback:function(t){e.$set(e.form,"attribute",t)},expression:"form.attribute"}})],1),i("b-form-group",{attrs:{label:"角色聲優","label-for":"input-seiyuu",state:e.state.seiyuu,description:"角色聲優長度限制為 1 個字以上","invalid-feedback":"角色聲優格式不正確"}},[i("b-form-input",{attrs:{id:"input-seiyuu",type:"text",required:"required",placeholder:"請輸入角色聲優",state:e.state.seiyuu},model:{value:e.form.seiyuu,callback:function(t){e.$set(e.form,"seiyuu",t)},expression:"form.seiyuu"}})],1),i("b-form-group",{attrs:{label:"角色聲優音效檔"}},[i("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:e.form.seiyuu_audio,callback:function(t){e.$set(e.form,"seiyuu_audio",t)},expression:"form.seiyuu_audio"}})],1),i("b-form-group",{attrs:{label:"角色大圖"}},[i("img-inputer",{attrs:{theme:"dark",size:"large",placeholder:"點擊或拖曳選擇圖片","bottom-text":"點擊或拖曳以修改"},model:{value:e.form.big_image,callback:function(t){e.$set(e.form,"big_image",t)},expression:"form.big_image"}})],1),i("b-form-group",{attrs:{label:"角色小圖"}},[i("img-inputer",{attrs:{theme:"dark",size:"large",placeholder:"點擊或拖曳選擇圖片","bottom-text":"點擊或拖曳以修改"},model:{value:e.form.small_image,callback:function(t){e.$set(e.form,"small_image",t)},expression:"form.small_image"}})],1),i("b-form-group",{attrs:{label:"角色手機版圖"}},[i("img-inputer",{attrs:{theme:"dark",size:"large",placeholder:"點擊或拖曳選擇圖片","bottom-text":"點擊或拖曳以修改"},model:{value:e.form.phone_image,callback:function(t){e.$set(e.form,"phone_image",t)},expression:"form.phone_image"}})],1),i("b-form-group",{attrs:{label:"顯示","label-for":"input-show"}},[i("b-form-radio",{attrs:{value:!0},model:{value:e.form.show,callback:function(t){e.$set(e.form,"show",t)},expression:"form.show"}},[e._v("顯示")]),i("b-form-radio",{attrs:{value:!1},model:{value:e.form.show,callback:function(t){e.$set(e.form,"show",t)},expression:"form.show"}},[e._v("未顯示")])],1)],1)],1)])])])])],1)],1)])},r=[],s=a("1da1"),o=(a("96cf"),a("b0c0"),a("a4d3"),a("e01a"),a("99af"),a("d81d"),a("99dd")),n={name:"character",data:function(){return{items:[{text:"首頁",href:"/#/admin"},{text:"角色管理",href:"#"},{text:"角色管理",active:!0}],filter:null,filterOn:["country"],perPage:7,currentPage:1,totalRows:1,characters:[],countries:[],attributes:[],findcountries:[],fields:[{key:"small_image",label:"角色圖"},{key:"name",label:"角色"},{key:"description",label:"角色介紹"},{key:"attribute",label:"角色屬性"},{key:"seiyuu",label:"角色聲優"},{key:"country",label:"隸屬國家"},{key:"show",label:"顯示/未顯示"},{key:"action",label:"操作"}],submitDisable:!1,form:{name:"",description:"",seiyuu:"",seiyuu_audio:null,country:"",attribute:"",big_image:null,small_image:null,phone_image:null,show:!1,_id:""}}},computed:{state:function(){return{name:0!==this.form.name.length||null,description:0!==this.form.description.length||null,seiyuu:0!==this.form.seiyuu.length||null}}},methods:{editCharacter:function(e,t){this.form={name:e.name,description:e.description,seiyuu:e.seiyuu,seiyuu_audio:null,country:e.country._id,attribute:e.attribute._id,big_image:e.big_image,small_image:e.small_image,phone_image:e.phone_image,show:e.show,_id:e._id,index:t},console.log(e),this.$bvModal.show("modal-character")},resetForm:function(e){this.submitDisable?e.preventDefault():this.form={name:"",description:"",seiyuu:"",seiyuu_audio:null,country:"",attribute:"",big_image:null,small_image:null,phone_image:null,show:!1,_id:""}},submitModal:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(i in e.submitDisable=!0,t.prev=1,a=new FormData,e.form)a.append(i,e.form[i]);if(0!==e.form._id.length){t.next=12;break}return console.log(e.form),t.next=8,e.axios.post("/characters",a,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}}).then((function(t){e.characters[e.characters.length]={name:e.form.name,description:e.form.description,seiyuu:e.form.seiyuu,seiyuu_audio:"".concat("","/files/").concat(t.data.result.seiyuu_audio),country:e.form.country,attribute:e.form.attribute,big_image:"".concat("","/files/").concat(t.data.result.big_image),small_image:"".concat("","/files/").concat(t.data.result.small_image),phone_image:"".concat("","/files/").concat(t.data.result.phone_image),show:e.form.show,_id:t.data.result._id},e.form._id=t.data.result._id}));case 8:e.$swal({icon:"success",title:"成功",text:"新增成功"}),e.$refs.characterTable.refresh(),t.next=19;break;case 12:return t.next=14,e.axios.patch("/characters/"+e.form._id,a,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 14:r=t.sent,s=r.data,e.characters[e.form.index]={name:e.form.name,description:e.form.description,seiyuu:e.form.seiyuu,seiyuu_audio:"".concat("","/files/").concat(s.result.seiyuu_audio),country:e.form.country,attribute:e.form.attribute,big_image:"".concat("","/files/").concat(s.result.big_image),small_image:"".concat("","/files/").concat(s.result.small_image),phone_image:"".concat("","/files/").concat(s.result.phone_image),show:e.form.show,_id:e.form._id},e.$swal({icon:"success",title:"成功",text:"修改成功"}),e.$refs.characterTable.refresh();case 19:e.$bvModal.hide("modal-character"),t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](1),e.$swal({icon:"error",title:"錯誤",text:t.t0.response.data.message});case 25:e.submitDisable=!1;case 26:case"end":return t.stop()}}),t,null,[[1,22]])})))()},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/countries/all",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 3:return a=t.sent,e.countries=a.data.result.map((function(e){return{value:e._id,text:e.name}})),e.findcountries=a.data.result.map((function(e){return{value:e.name,text:e.name}})),t.next=8,e.axios.get("/attributes/all",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 8:return i=t.sent,e.attributes=i.data.result.map((function(e){return{value:e._id,text:e.name}})),t.next=12,e.axios.get("/characters/all",{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 12:r=t.sent,s=r.data,e.characters=s.result.map((function(e){return e.small_image&&(e.small_image="".concat("","/files/").concat(e.small_image)),e})),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),console.log(t.t0),e.$swal({icon:"error",title:"錯誤",text:"取得資料失敗"});case 21:e.totalRows=e.characters.length;case 22:case"end":return t.stop()}}),t,null,[[0,17]])})))()},components:{Sidebar:o["a"]}},l=n,A=a("2877"),c=Object(A["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=character.d02db6ad.js.map